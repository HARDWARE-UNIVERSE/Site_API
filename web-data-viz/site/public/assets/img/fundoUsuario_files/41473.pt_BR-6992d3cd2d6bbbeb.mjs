(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[41473],{289615:(e,s,t)=>{t.d(s,{AR:()=>o,Lz:()=>i,Qg:()=>n,cu:()=>a});const n="proPartnerHeaderMenuItem",i=1,o={id:"",name:"",currency_code:"USD",created_time:0,owner_user_id:"",client_business_id:"",shopping_retargeting_eligibility:!1,shopify_organic_attribution_enabled:!1,segment_metadata:void 0,owner_user:{full_name:"",username:""},offline_conversion_ga_enabled:!1,ocpm_conversion_window_enabled:!1,modeled_conversion_reporting_enabled:!1,inactive_advertisers:[],is_story_ads_standalone_allowed:!1,is_story_ads_sponsor_allowed:!1,is_story_ads_product_tags_allowed:!1,is_story_ads_mentions_allowed:!1,is_sterling_prod:!1,is_impersonation:!1,household_conversion_reporting_enabled:!1,enable_shopping_reporting:!1,enable_loi_sapin_modal:!1,bulk_v2_shopping_enabled:!1,ad_groups_enabled:!1,bulk_v4_disabled:!1,currency:1,country:1,billing_type:0,accepted_tos:[0],actions:[0]},a={BUSINESS_HUB:"business hub",HOMEFEED:"homefeed",CONVERSIONS:"conversions",CREATOR_CLASSES:"creator classes",SHOP:"shop",BUSINESS_MANAGER:"business manager",MARKETING_PLAN:"personalized marketing plan"}},9611:(e,s,t)=>{t.d(s,{Z:()=>i});var n=t(163137);const i=t.n(n)()({UNKNOWN:0,US:1,GB:2,CA:3,IE:4,AU:5,NZ:6,FR:7,SE:8,IL:9,DE:10,AT:11,IT:12,ES:13,NL:14,BE:15,PT:16,CH:17,HK:18,JP:19,KR:20,SG:21,NO:22,DK:23,FI:24,CY:25,LU:26,MT:27,PL:28,RO:29,HU:30,CZ:31,GR:32,SK:33,BR:34,MX:35,AR:36,CL:37,CO:38})},131980:(e,s,t)=>{t.d(s,{JD:()=>n,al:()=>i,iV:()=>a,tN:()=>o});const n={ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BELGIUM:"BE",BRAZIL:"BR",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",HONG_KONG:"HK",HUNGARY:"HU",IRELAND:"IE",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",LUXEMBOURG:"LU",MALTA:"MT",MEXICO:"MX",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NORWAY:"NO",POLAND:"PL",PORTUGAL:"PT",ROMANIA:"RO",SINGAPORE:"SG",SLOVAKIA:"SK",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",UNITED_KINGDOM:"GB",UNITED_STATES:"US",UNKNOWN:"UNKNOWN"},i=(e,s)=>({AR:s.bt("Argentina", "Argentina", "[m10n]billing.BusinessInformation.country.AR", undefined, true),AT:s.bt("Áustria", "Austria", "[m10n]billing.BusinessInformation.country.AT", undefined, true),AU:s.bt("Austrália", "Australia", "[m10n]billing.BusinessInformation.country.AU", undefined, true),BE:s.bt("Bélgica", "Belgium", "[m10n]billing.BusinessInformation.country.BE", undefined, true),BR:s.bt("Brasil", "Brazil", "[m10n]billing.BusinessInformation.country.BR", undefined, true),CA:s.bt("Canadá", "Canada", "[m10n]billing.BusinessInformation.country.CA", undefined, true),CH:s.bt("Suíça", "Switzerland", "[m10n]billing.BusinessInformation.country.CH", undefined, true),CL:s.bt("Chile", "Chile", "[m10n]billing.BusinessInformation.country.CL", undefined, true),CO:s.bt("Colômbia", "Colombia", "[m10n]billing.BusinessInformation.country.CO", undefined, true),CY:s.bt("Chipre", "Cyprus", "[m10n]billing.BusinessInformation.country.CY", undefined, true),CZ:s.bt("República Tcheca", "Czechia", "[m10n]billing.BusinessInformation.country.CZ", undefined, true),DE:s.bt("Alemanha", "Germany", "[m10n]billing.BusinessInformation.country.DE", undefined, true),DK:s.bt("Dinamarca", "Denmark", "[m10n]billing.BusinessInformation.country.DK", undefined, true),ES:s.bt("Espanha", "Spain", "[m10n]billing.BusinessInformation.country.ES", undefined, true),FI:s.bt("Finlândia", "Finland", "[m10n]billing.BusinessInformation.country.FI", undefined, true),FR:s.bt("França", "France", "[m10n]billing.BusinessInformation.country.FR", undefined, true),GB:s.bt("Reino Unido", "United Kingdom", "[m10n]billing.BusinessInformation.country.GB", undefined, true),GR:s.bt("Grécia", "Greece", "[m10n]billing.BusinessInformation.country.GR", undefined, true),HK:s.bt("Hong Kong", "Hong Kong", "[m10n]billing.BusinessInformation.country.HK", undefined, true),HU:s.bt("Hungria", "Hungary", "[m10n]billing.BusinessInformation.country.HU", undefined, true),IE:s.bt("Irlanda", "Ireland", "[m10n]billing.BusinessInformation.country.IE", undefined, true),IL:s.bt("Israel", "Israel", "[m10n]billing.BusinessInformation.country.IL", undefined, true),IT:s.bt("Itália", "Italy", "[m10n]billing.BusinessInformation.country.IT", undefined, true),JP:s.bt("Japão", "Japan", "[m10n]billing.BusinessInformation.country.JP", undefined, true),KR:s.bt("Coreia do Sul", "South Korea", "[m10n]billing.BusinessInformation.country.KR", undefined, true),LU:s.bt("Luxemburgo", "Luxembourg", "[m10n]billing.BusinessInformation.country.LU", undefined, true),MT:s.bt("Malta", "Malta", "[m10n]billing.BusinessInformation.country.MT", undefined, true),MX:s.bt("México", "Mexico", "[m10n]billing.BusinessInformation.country.MX", undefined, true),NL:s.bt("Países Baixos", "Netherlands", "[m10n]billing.BusinessInformation.country.NL", undefined, true),NO:s.bt("Noruega", "Norway", "[m10n]billing.BusinessInformation.country.NO", undefined, true),NZ:s.bt("Nova Zelândia", "New Zealand", "[m10n]billing.BusinessInformation.country.NZ", undefined, true),PL:s.bt("Polônia", "Poland", "[m10n]billing.BusinessInformation.country.PL", undefined, true),PT:s.bt("Portugal", "Portugal", "[m10n]billing.BusinessInformation.country.PT", undefined, true),RO:s.bt("Romênia", "Romania", "[m10n]billing.BusinessInformation.country.RO", undefined, true),SE:s.bt("Suécia", "Sweden", "[m10n]billing.BusinessInformation.country.SE", undefined, true),SG:s.bt("Singapura", "Singapore", "[m10n]billing.BusinessInformation.country.SG", undefined, true),SK:s.bt("Eslováquia", "Slovakia", "[m10n]billing.BusinessInformation.country.SK", undefined, true),US:s.bt("Estados Unidos", "United States", "[m10n]billing.BusinessInformation.country.US", undefined, true),UNKNOWN:s.bt("Desconhecido", "Unknown", "[m10n]billing.BusinessInformation.country.UNKNOWN", undefined, true)}[e]||e),o={AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,NL:14,NO:22,NZ:6,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,US:1,UNKNOWN:0},a=Object.entries(o).reduce(((e,s)=>{const[t,n]=s;return e[n]=t,e}),{})},28543:(e,s,t)=>{t.d(s,{default:()=>a});var n=t(55259),i=t(966113),o=t(567831);function a(e,s,t){if(!n.Z[e])throw new Error(`unknown url key: ${e}`);t||(t={});let a=n.Z[e](t);const r=function(e,s){let t=null;return e&&(t=e.advertiserId||null),!t&&s&&(t=s.id),t}(t,s);return"string"==typeof r&&(a="/advertiser/"+r+a),!!t.absolutify&&(a=(0,o.Z)(a,void 0,i.KU)),a}},21353:(e,s,t)=>{t.d(s,{Z:()=>o});var n=t(702664),i=t(28543);function o(){const e=(0,n.useSelector)((({advertiser:e})=>e));return(s,t)=>(0,i.default)(s,e,t)}},410841:(e,s,t)=>{t.d(s,{Z:()=>a});var n=t(667294),i=t(186656),o=t(773285);const a=e=>{const{anyEnabled:s}=(0,o.F)().checkExperiment("ba_mfa_enabled"),[t,a]=(0,n.useState)(null);return(0,n.useEffect)((()=>{var t;const n=async()=>{try{const e=await(async()=>{var e,s;return(null===(e=(await(0,i.Z)({url:"/ads/v4/business_access/businesses/me/mfa_enablement"})).resource_response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.has_mfa_enabled)||!1})();a(e)}catch(e){a(!1)}};e&&null!==(t=e.partner)&&void 0!==t&&t.is_linked_business&&s?n():a(!1)}),[e,s]),t}},769106:(e,s,t)=>{t.d(s,{H9:()=>a,ZP:()=>o,c_:()=>r});var n=t(186656);const i=new(t(969172).default),o=async({businessId:e,useApiResource:s})=>{if(s){return(await(0,n.Z)({url:`/ads/v4/business_access/businesses/${e}/mfa`})).resource_response}{const s=`/ads/v4/business_access/businesses/${e}/mfa`;return await i.get(s)}},a=async({businessId:e,businessRoles:s})=>(await(0,n.Z)({url:`/ads/v4/business_access/businesses/${e}/mfa`,method:"PUT",data:{business_roles:s}})).resource_response,r=async({businessId:e,memberId:s})=>{await(0,n.Z)({url:`/ads/v4/business_access/businesses/${e}/members/${s}/resend_mfa_email`,method:"POST"})}},810134:(e,s,t)=>{t.d(s,{UA:()=>l,bq:()=>a});var n=t(983722),i=t(186656);const o=new(t(969172).default);async function a({url:e,method:s,data:t,callOptions:a}){var r,l;if(null!==(r=null===(l=(0,n.Z)())||void 0===l?void 0:l.experimentsClient.checkExperiment("business_access_api_resource_migration").anyEnabled)&&void 0!==r&&r)return(0,i.Z)({url:e,method:s,data:t,callOptions:a});{let n;return n="POST"===s?"/ads/v4/advertisers/"===e?await o.postJSON(e,t,!0):await o.post(e,t,!0):"PUT"===s?await o.put(e,t,!0):"DELETE"===s?await o.delete(e,t,!0):await o.get(e,t,!0),{resource_response:n,status:n.status}}}const r=async(e,s,t,n,i=[])=>{const o={bookmark:void 0,data:{business_id:"",data:[]},...(await a({url:s,method:"GET",data:t})).resource_response};if(!o.bookmark){return n(o.data).push(...i),o.data}return await r(e,s,{...t,bookmark:o.bookmark},n,i.concat(...n(o.data)))},l={get:(e,s={})=>r(o,e,s,(e=>e.data),[])}},617126:(e,s,t)=>{t.d(s,{Z:()=>n});const n=({businessAccess:e})=>null!=e?e:{}},406519:(e,s,t)=>{t.d(s,{N_:()=>u,PD:()=>a,Qq:()=>c,ZU:()=>o,_S:()=>i,gl:()=>l,kV:()=>d,kt:()=>_,qS:()=>n,zu:()=>r});const n="/product-catalogs/data-source/",i="/product-catalogs/product-groups/",o="/product-catalogs/product-groups/create/",a="/product-catalogs/product-groups/edit/",r="/product-catalogs/product-groups/bulk/",l="/product-catalogs/feed-debugger/",c="/product-catalogs/",d="https://www.pinterest.com/product-catalogs",_="https://www.pinterest.com/product-catalogs/data-source/",u="https://www.pinterest.com/product-catalogs/product-groups/"},384960:(e,s,t)=>{t.d(s,{t:()=>r});var n=t(24220),i=t(966113),o=t(794230);const a={analyticsRoot:e=>"/",overview:e=>"/overview/",audience_insights:e=>{const s="/audience-insights/";if(e.audienceId){const t=(0,n.dk)("custom",e.audienceId);return(0,o.Z)(s,{audience_1:t})}return s}};function r(e,s={}){if(!a[e])throw new Error(`unknown url key: ${e}`);let t=a[e](s);const n=s.advertiserId||s.advertiserIdFromStore||null,r=!!s.absolutify;return"string"==typeof n&&(t=(0,o.Z)(t,{advertiserId:n})),r&&(t=i._O+t),t}},438112:(e,s,t)=>{t.d(s,{Ui:()=>r,aI:()=>a});const n=Object.freeze({ACF_RELEASE_ALPHA:"aid_exp_acf_alpha",ACF_RELEASE_BETA:"aid_exp_acf_beta",ACF_RELEASE_GA:"aid_exp_acf_ga"}),i=Object.freeze({ALPHA:"ALPHA",BETA:"BETA",GA:"GA"}),o=[i.ALPHA,i.BETA,i.GA],a=e=>o.some((s=>((e,s)=>{const t={[i.ALPHA]:n.ACF_RELEASE_ALPHA,[i.BETA]:n.ACF_RELEASE_BETA,[i.GA]:n.ACF_RELEASE_GA}[e],o=t?s.checkExperiment(t):void 0;return"enabled"===(null==o?void 0:o.group)||!1})(s,e))),r=e=>{const s=e.checkExperiment("aid_exp_acf_default_budgets_objv4");return"enabled"===s.group||"employees"===s.group}},5739:(e,s,t)=>{t.d(s,{$F:()=>i,$m:()=>o,av:()=>n});const n={"/":12,"/reporting/campaigns/":6,"/reporting/adgroups/":6,"/reporting/ads/":12,"/reporting/adGroupPositiveKeywords/":12,"/audiences/":6,"/billing/history/":12,"/conversions/tag/":6,"/conversions/history/":12,"/ads/create/":60,"/conversions/upload/":100},i={"/reporting/campaigns/":100,"/reporting/adgroups/":100,"/reporting/ads/":100,"/reporting/adGroupPositiveKeywords/":100,"/audiences/":100,"/billing/history/":100,"/conversions/tag/":100,"/conversions/history/":100,"/ads/create/":160,"/conversions/upload/":200};function o(e){return e.replace(new RegExp("/advertiser/\\d+"),"")}},924551:(e,s,t)=>{t.d(s,{Z:()=>C});var n=t(667294),i=t(702664),o=t(883119),a=t(21353),r=t(56641),l=t(407043),c=t(186656),d=t(506708),_=t(898781),u=t(773285),h=t(780280),m=t(966113),p=t(406519),A=t(732646),b=t(384960),g=t(438112),v=t(589428),f=t(785893);function x(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const w=()=>{const{hostname:e}=window.location;return e.includes("pinterdev")&&e.includes("trends-dev")?`https://${e}`:m.zz},y=(e=!1,s)=>`https://${(0,d.Z)()}`+(e?`${A.F$}`:`${p.Qq}`)+`?advertiserId=${s}`;class P extends n.Component{constructor(...e){super(...e),x(this,"state",{actions:this.props.actions||[],accountBusinessAssigner:""}),x(this,"handleActionDataRequests",((e,s,t,n,i)=>{e=e||[];let o,a=0,{actions:r}=this.state;var l,c;s&&(r=(null===(l=e[a])||void 0===l||null===(c=l.resource_response)||void 0===c?void 0:c.data)||[],a+=1);let d=n||"";if(i!==n){var _,u,h,m;const s=(null===(_=e[a])||void 0===_||null===(u=_.resource_response)||void 0===u?void 0:u.data)||[],t=new Set(s.filter((e=>((e,s,t)=>{var n;return e.user.id===s&&null!==e.businesses&&(null===(n=e.businesses)||void 0===n?void 0:n.includes(t))})(e,i,n))).map((e=>e.businesses)).reduce(((e,s)=>e.concat(s)),[]));a+=1,o=(null===(h=e[a])||void 0===h||null===(m=h.resource_response)||void 0===m?void 0:m.data.data)||[];const r=new Set(o.map((e=>e.id))),l=new Set(o.filter((e=>e.biz_roles.includes("BIZ_ADMIN"))).map((e=>e.id))),c=new Set([...t].filter((e=>!r.has(e)))),p=new Set([...t].filter((e=>l.has(e))));d=c.size>0&&i?i||"":p.size>0&&[...p][0]||""}this.setState({actions:r,accountBusinessAssigner:d})})),x(this,"fetchActionData",(()=>{const{advertiserId:e,requestContext:s,userId:t,accountOwnerId:n}=this.props,i=[],o=(this.props.actions||[]).length<1;o&&i.push((0,c.Z)({url:`/ads/v4/advertisers/${e}/actions/`})),t!==n&&(i.push((0,c.Z)({url:`/ads/v4/advertisers/${e}/policy/`})),i.push((0,c.Z)({url:"/ads/internal/business_access/users/me/employers/"}))),Promise.all(i).then((e=>this.handleActionDataRequests(e,o,s,n,t)))})),x(this,"advertiserActionList",(()=>{const{advertiserId:e,experimentsClient:s,getSterlingURL:t,isAnalyticsSite:n,isOwnerUserSuspended:i,merchantId:o,isWwwSite:a,VMPstatus:r,isBPMPageEnabled:l,isNonEndemicCatalogsEnabled:c,reduxAdvertiserId:_}=this.props,{actions:u,accountBusinessAssigner:h}=this.state,p=n||a,A=[{enabled:!i&&u.includes(11),text:this.props.i18n.bt("Ver relatório", "View reporting", "[m10n] link to the reporting page", undefined, true),url:t("campaigns",{advertiserId:e,absolutify:p})},{enabled:!i&&u.includes(56),text:this.props.i18n.bt("Ver cobrança", "View billing", "[m10n] link to user's billing settings", undefined, true),url:t("billing",{advertiserId:e,absolutify:p})},{enabled:!i&&u.includes(32),text:this.props.i18n.bt("Ver os públicos", "View audiences", "[m10n] link to audiences manager page", undefined, true),url:t("audiences",{advertiserId:e,absolutify:p})},{enabled:!i&&u.includes(35),text:this.props.i18n.bt("Ver tags de conversão", "View conversion tags", "[m10n] link to conversion tags page", undefined, true),url:t("pinterest_tag",{advertiserId:e,absolutify:p})},{enabled:!i&&u.includes(55),text:this.props.i18n.bt("Ver as informações do público", "View audience insights", "[m10n] link to user's audience insights", undefined, true),url:(0,b.t)("audience_insights",{advertiserId:e,absolutify:!n,advertiserIdFromStore:_})},{enabled:!i&&u.includes(55),text:this.props.i18n.bt("Ver Analytics", "View analytics", "[m10n] link to view analytics as a different advertiser on analytics site", undefined, true),url:(0,b.t)("overview",{advertiserId:e,absolutify:!n,advertiserIdFromStore:_})},{enabled:!i&&u.includes(49),text:this.props.i18n.bt("Criar anúncio", "Create ad", "[m10n] link to create an ad", undefined, true),url:(0,g.aI)(s)?t("campaignMode",{advertiserId:e,absolutify:p}):t("create",{advertiserId:e,absolutify:p})},{enabled:!!(h&&h.length>0),text:this.props.i18n.bt("Gerenciar o acesso", "Manage access", "[m10n] link to business access", undefined, true),url:`https://${(0,d.Z)()}/business/business-access/${h}/ad-accounts/${e}/details/`},{enabled:!i,text:this.props.i18n.bt("Ver tendências", "View trends", "[m10n] link to view trends as a different advertiser on trends site", undefined, true),url:`${w()}/?advertiserId=${e}`}];return o&&A.push({enabled:!i&&u.includes(68),text:this.props.i18n.bt("Ver catálogos", "View Catalogs", "[m10n] link to user's catalogs", undefined, true),url:y(c,e)}),r&&A.push({enabled:!i&&u.includes(68),text:this.props.i18n.bt("Ver o status de loja verificada", "View verified merchant status", "[m10n] link to user's verified merchant status", undefined, true),url:`${m.sr}/?advertiserId=${e}`}),l&&A.push({enabled:!i,text:this.props.i18n.bt("Ver Pins com marca", "View branded Pins", "[m10n]advertiserSwitcher.actions", undefined, true),url:`https://${(0,d.Z)()}/branded-pins/?advertiserId=${e}`}),A}))}componentDidMount(){this.fetchActionData()}render(){return(0,f.jsx)(o.xu,{paddingX:4,paddingY:2,children:this.advertiserActionList().filter((e=>e.enabled)).map(((e,s)=>(0,f.jsx)(o.xu,{marginTop:1,marginBottom:1,children:(0,f.jsx)(o.iP,{onTap:()=>{var s,t,n;s=this.props.userId,t=this.props.advertiserId,n=e.text,(0,this.props.logContextEvent)({event_type:9709,component:13770,view_type:465,aux_data:{user_id:s,business_id:t,modal_link_clicked:n}}),(0,r.Z)(e.url)},children:(0,f.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(o.xu,{paddingY:3,flex:"grow",children:(0,f.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,f.jsx)(o.xv,{color:"subtle",weight:"bold",children:e.text}),e.isNew&&(0,f.jsx)(o.xu,{paddingX:2,children:(0,f.jsx)(o.Ct,{text:this.props.i18n.bt("Novo", "New", "[m10n]advertiserActions.newBadge", undefined, true),position:"middle"})})]})}),(0,f.jsx)(o.xu,{marginStart:2,children:(0,f.jsx)(o.JO,{icon:"arrow-forward",color:"subtle",size:14,accessibilityLabel:this.props.i18n.bt("Ir", "Go", "[m10n] accessibility label for an arrow icon on a link", undefined, true)})})]})})},s)))})}}const C=function(e){const{logContextEvent:s}=(0,l.v)(),t=(0,_.ZP)(),n=(0,h.B)(),{checkExperiment:o}=(0,u.F)(),{anyEnabled:r}=o("ad_formats_bpm_mvp"),{anyEnabled:c}=o("spx_catalogs_v3"),d=(0,i.useSelector)(v.iC);return(0,f.jsx)(P,{requestContext:n,experimentsClient:(0,u.F)(),...e,isBPMPageEnabled:r,isNonEndemicCatalogsEnabled:c,i18n:t,logContextEvent:s,getSterlingURL:(0,a.Z)(),reduxAdvertiserId:d})}},293472:(e,s,t)=>{t.r(s),t.d(s,{default:()=>pe});var n=t(667294),i=t(883119),o=t(289615),a=t(56641),r=t(898781),l=t(773285),c=t(985913),d=t(966113),_=t(702664),u=t(294184),h=t.n(u),m=t(286664),p=t(510108),A=t(160794),b=t(9611),g=t(131980),v=t(112690),f=t(925672),x=t(121151),w=t(349700),y=t(780280),P=t(343341),C=t(969172),z=t(596505),S=t(785893);class E extends n.Component{constructor(...e){var s,t,n;super(...e),s=this,t="state",n={countryToTextMap:new Map},t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n}componentDidMount(){this.fetchAdvertiserCountriesFromAPI()}fetchAdvertiserCountriesFromAPI(){(new C.default).get("ads/v4/advertisers/countries/").then((e=>{const s=new Map;if(e&&e.length>0)for(const t in e){const n=e[t];s.set(n.index,n.name)}this.setState({countryToTextMap:s})}))}render(){const{id:e,input:s,label:t,wrapperClassName:n}=this.props,{countryToTextMap:i}=this.state,o=s.value||this.props.country,a={label:i.get(o),value:o},r=Array.from(i.entries()).map((e=>({label:e[1],value:e[0]})));let l;return l=i.size>0?(0,S.jsx)(z.Z,{onChange:e=>s.onChange(e.value),options:r,value:a}):(0,S.jsx)(z.Z,{}),(0,S.jsxs)("div",{className:n,id:"dropdownSection","data-test-id":"dropdownSection",children:[(0,S.jsx)("label",{htmlFor:e,children:t}),l]})}}const I=E;var j=t(798231),B=t(276205),N=t(682270),k=t(239838);const L=()=>{const e=(0,r.ZP)(),s=(0,S.jsx)(i.xv,{color:"default",inline:!0,weight:"bold",children:(0,S.jsx)(N.Z,{display:"inlineBlock",href:d.gO+"articles/set-your-business-account?qa=4",children:e.bt("Saiba mais", "Learn more", "[m10n] A link proceeding \"You can now create individual accounts with unique billing info.\"", undefined, true)})},"learnMore");return(0,S.jsx)(i.xv,{color:"subtle",weight:"bold",children:(0,w.nk)(e.bt("Agora você pode criar contas individuais com informações de faturamento exclusivas. {{ learnMoreLink }}", "You can now create individual accounts with unique billing info. {{ learnMoreLink }}", "[m10n] Help text that explains that the form allows advertisers to create new ad accounts with their own unique billing info.", undefined, true),{learnMoreLink:s})})},O=e=>(0,S.jsxs)("div",{className:e.wrapperClassName,children:[(0,S.jsx)("label",{htmlFor:e.id,children:e.label}),(0,S.jsx)("input",{id:e.id,onChange:s=>e.input.onChange(s.target.value),placeholder:e.placeholder,type:"text"}),(0,S.jsx)("div",{className:"clientError",children:e.meta.invalid&&e.meta.error})]});class T extends n.Component{constructor(e){var s,t,n;super(e),n=()=>{const{requestContext:e}=this.props;return e.experimentsClient.checkExperiment("sterling_tos_in_advertiser_creation").anyEnabled},(t="isInTosAcceptanceExp")in(s=this)?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,this.state={accountCreationFailed:!1,isTosAccepted:!1}}shouldCreateAsSuspended(){var e;const{requestContext:s}=this.props,t=s.experimentsClient.checkExperiment("advertiser_create_as_suspended").anyEnabled;return!(null===(e=s.advertiser)||void 0===e||!e.is_impersonation)&&t}getApiParams(e){e.country||(e.country=this.props.country);const s={name:e.accountName||"",country:b.Z[e.country]};return this.shouldCreateAsSuspended()?s.tos_id=-1:this.isInTosAcceptanceExp()&&(s.tos_id=(0,k.Fc)(g.tN[e.country])),s}submitForm(e){const{logContextEvent:s}=this.props;if(!e||0===Object.keys(e).length)return Promise.resolve();if(!e.accountName)return Promise.resolve().then((()=>{throw new A.SubmissionError({accountName:this.props.i18n.bt("Não se esqueça de dar um nome à sua nova conta", "Don't forget to name your new account", "[m10n] Reminder to user to name account", undefined, true)})}));const t=this.getApiParams(e);return(0,f.W1)({...t}).then((e=>{if(this.setState({accountCreationFailed:!1}),s({event_type:6608,component:13776,element:10400,aux_data:{created_advertiser_id:e.id,country:e.country}}),e.id){const s=e.id,t=this.shouldCreateAsSuspended()?`/advertiser/${s}?createdAsSuspended=true`:`/advertiser/${s}/billing`;(0,a.Z)(t)}})).catch((()=>{this.setState({accountCreationFailed:!0})}))}render(){const{country:e}=this.props,{isTosAccepted:s}=this.state,t=(0,k.Kp)(g.tN[e]),n=this.isInTosAcceptanceExp(),o=this.shouldCreateAsSuspended()?this.props.i18n.bt("Criar anunciante", "Create Advertiser", "[m10n] sterling.advertiserCreateForm.createAdvertiserModal.submitButtonText.createAdvertiser", undefined, true):this.props.i18n.bt("Configurar cobrança", "Set up billing", "[m10n] sterling.advertiserCreateForm.createAdvertiserModal.submitButtonText.setUpBilling", undefined, true);return(0,S.jsx)(x.ZP,{accessibilityModalLabel:this.props.i18n.bt("Criar conta de anúncios", "Create ad account", "[m10n] Heading for form to create a new ad account", undefined, true),heading:this.props.i18n.bt("Criar conta de anúncios", "Create ad account", "[m10n] Heading for form to create a new ad account", undefined, true),footer:(0,S.jsx)(i.kC,{alignItems:"center",justifyContent:"end",children:(0,S.jsxs)(i.hE,{children:[(0,S.jsx)(j.Z,{id:"cancel",onClick:this.props.onHide,text:this.props.i18n.bt("Cancelar", "Cancel", "[m10n] Button to close the Add a New Advertiser Account form", undefined, true),size:"lg"}),(0,S.jsx)(j.Z,{id:"setup",className:"submitButton",color:"red",disabled:this.props.submitting||n&&!this.shouldCreateAsSuspended()&&!this.state.isTosAccepted,onClick:this.props.handleSubmit(this.submitForm.bind(this)),text:o,size:"lg"})]})}),onDismiss:()=>{this.props.onHide()},children:(0,S.jsx)("form",{className:"AdvertiserCreateForm",children:(0,S.jsxs)(i.xu,{marginBottom:4,children:[(0,S.jsx)(L,{}),(0,S.jsx)(m.Z,{component:O,id:"textInput",label:this.props.i18n.bt("Nome da conta de anúncios", "Ad account name", "[m10n] Label for ad account name field", undefined, true),name:"accountName",placeholder:this.props.i18n.bt("Nome da conta", "Name of account", "[m10n] Placeholder for ad account name", undefined, true),type:"text",wrapperClassName:"inputSection"}),(0,S.jsx)(m.Z,{component:I,country:e,id:"dropdown",label:this.props.i18n.bt("País", "Country", "[m10n] Label for country field", undefined, true),name:"country",wrapperClassName:"inputSection dropdownSection"}),n&&!this.shouldCreateAsSuspended()&&(0,S.jsxs)(i.xu,{display:"flex",direction:"column",marginTop:3,children:[(0,S.jsx)(i.xv,{inline:!0,children:(0,w.nk)(this.props.i18n.bt("Em 25 de maio de 2018, atualizamos nosso {{ advertisingAgreement }} para cumprir algumas novas leis de privacidade da Europa.", "On May 25, 2018, we updated our {{ advertisingAgreement }} to address some new privacy laws in Europe.", "[m10n] createAdvertiserModal.tosText", undefined, true),{advertisingAgreement:(0,S.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,S.jsx)(N.Z,{display:"inlineBlock",href:t,target:"blank",children:this.props.i18n.bt("Contrato de Publicidade", "Advertising Agreement", "[m10n] createAdvertiserModal.advertiserAgreementLink", undefined, true)})},"advertisingAgreementLink")})}),(0,S.jsx)(i.xu,{marginTop:4,children:(0,S.jsx)(B.Z,{id:"tosAcceptanceCheckbox",name:"tosAcceptanceCheckbox",value:"tosAcceptanceCheckbox",onChange:e=>{const{checked:s}=e;this.setState({isTosAccepted:s})},checked:s,label:this.props.i18n.bt("Aceito o Contrato de Publicidade do Pinterest", "I accept Pinterest’s Advertising Agreement", "[m10n] createAdvertiserModal.advertiserAgreementCheckbox", undefined, true),elementType:10214})})]}),(0,S.jsx)("div",{className:h()({serverError:!0,hidden:!this.state.accountCreationFailed}),children:this.props.i18n.bt("Ocorreu um problema ao criar uma nova conta. Tente novamente.", "Sorry, there was a problem creating a new account. Please try again.", "[m10n] Error displayed when there is an issue creating a new ad account", undefined, true)})]})})})}}const R=(0,p.Z)({form:"AdvertiserCreateReduxForm"})(T);function Z(e){const s=(0,_.useSelector)((({advertiser:e})=>e)),t=(0,r.ZP)(),n=(0,v.Z)();return(0,S.jsx)(R,{...e,country:s.country,requestContext:(0,y.B)(),toastManagerContext:(0,P.F9)(),i18n:t,logContextEvent:n})}var D=t(373232),M=t(410841),U=t(326884),F=t(584595),H=t(769106);const G=e=>{const{anyEnabled:s}=(0,l.F)().checkExperiment("ba_mfa_enabled"),[t,i]=(0,n.useState)(null);return(0,n.useEffect)((()=>{e&&e.id&&s&&(async e=>{try{const s=await(0,H.ZP)({businessId:e,useApiResource:!1});i((null==s?void 0:s.business_roles)||[])}catch(s){s.code===F.Zn&&i([U.V3.EMPLOYEE,U.V3.BIZ_ADMIN])}})(e.id)}),[e,s]),t};var K=t(829407),W=t(19121),$=t(810134);var Y=t(442279),V=t(617126);const q=(0,Y.P1)(V.Z,(({rawEmployers:e})=>null==e?void 0:e.list));var X=t(506708),J=t(826067),Q=t(794230),ee=t(323716),se=t(829281),te=t(784590),ne=t(924551);const ie=t(977558).fe+1;function oe({advertiser:e,isAnalyticsSite:s,isWwwSite:t,onDismiss:o}){const a=(0,r.ZP)(),l=(0,W.Z)(),c=l.isAuth?l.id:void 0,d=(0,te.Z)({name:"VerifiedMerchantResource",options:{user_id:e?e.id:c}}),[_,u]=(0,n.useState)(null),[h,m]=(0,n.useState)(!0);(0,K.Z)((()=>{(()=>{const{owner_user_id:s}=e;(new C.default).get(`/v3/users/${s}/`).then((e=>{u(e),m(!1)}))})()}));const{data:p}=d,A=null==p?void 0:p.status;return(0,S.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:ie}},children:(0,S.jsx)(i.u_,{accessibilityModalLabel:a.bt("Alternar contas de anúncio", "Switch ad accounts", "[m10n] accessibility label for advertiser account switcher modal", undefined, true),heading:a.bt("Alternar contas de anúncio", "Switch ad accounts", "[m10n] advertiser account switcher modal heading", undefined, true),onDismiss:o,size:"sm",padding:"none",children:h?(0,S.jsx)(i.xu,{paddingY:12,children:(0,S.jsx)(i.$j,{accessibilityLabel:a.bt("Carregando anunciante", "Loading advertiser", "[m10n] message shown when loading advertiser data", undefined, true),show:!0})}):(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(i.xu,{justifyContent:"center",display:"flex",paddingY:6,children:(0,S.jsx)(i.qE,{size:"lg",name:_?_.full_name:"",src:_?_.image_medium_url:""})}),(0,S.jsx)(i.xv,{align:"center",color:"subtle",weight:"bold",children:(0,w.nk)(a.bt("{{fullName}} visualizando como", "{{fullName}} viewing as", "[m10n] when viewing a page as a specific advertiser in multi-user state", undefined, true),{fullName:l.isAuth?l.fullName:""})}),(0,S.jsx)(i.xu,{display:"flex",justifyContent:"center",marginBottom:6,children:(0,S.jsx)(i.X6,{color:"default",size:"500",children:e.name})}),!_&&(0,S.jsx)(i.xv,{align:"center",color:"error",weight:"bold",children:a.bt("A conta de anunciante foi suspensa", "Advertiser account has been suspended", "[m10n] message shown when user is trying to switch to a suspended advertiser account", undefined, true)}),(0,S.jsx)(i.xu,{marginTop:4,marginBottom:3,children:(0,S.jsx)(i.iz,{})}),(0,S.jsx)(i.xu,{"data-test-id":"advertiser-actions",paddingX:6,marginBottom:5,children:(0,S.jsx)(ne.Z,{advertiserId:e.id,isAnalyticsSite:s,isWwwSite:t,isOwnerUserSuspended:null==_,merchantId:e.merchant_id,VMPstatus:A,userId:l.isAuth?l.id:"",accountOwnerId:e.owner_user_id})})]})})})}var ae=t(735204);const re={OWNED:0,ACCESSIBLE:1},le=330,ce="calc(90vh - 120px)";function de({handleButtonClick:e,advertisersType:s,isAdsSite:t,selectedAdvertiserId:o,isPinSupportTool:l,showViewAllButton:c,currentUserId:_,showCreateButton:u,advertisers:h,mfaBlockedAdvertiserIds:m,isMfaEnforcedBySelf:p,isAnalyticsSite:A,isWwwSite:b,onAdvertiserTypeChange:g}){const f=(0,r.ZP)(),x=(0,v.Z)(),w=(0,se.a)(),{activeClient:y}=w||{},[P,C]=(0,n.useState)(""),[z,E]=(0,n.useState)(!1),[I,j]=(0,n.useState)(null),B=()=>{e(s)},N=e=>{const{id:n,owner_user_id:i}=e,r=s===re.OWNED,c=(e=>{const{id:s}=e,n=(0,ee.Z)();return t?(0,J.Gw)(n.replace(o,s),["campaignIds","adGroupIds","pinPromotionIds","productGroupIds"]):(0,Q.Z)(n,{advertiserId:s})})(e);l?window.location.href=`${d.FH}?advertiserId=${n}&managedClientId=${i}`:r?o!==n&&(x({event_type:101,component:13142,aux_data:{advertiser_id:n}}),(0,a.Z)(c)):(E(!0),j(e))},k=()=>{x({event_type:101,component:13142,element:12698})},L=()=>{const e=`https://${(0,X.Z)()}/business/business-access/${_}/ad-accounts/${o}/details/`;return c?(0,S.jsx)(i.iP,{role:"link",href:e,onTap:k,children:(0,S.jsx)(i.xu,{margin:3,display:"flex",alignItems:"center",justifyContent:"center",children:(0,S.jsx)(i.xu,{paddingX:1,children:(0,S.jsx)(i.xv,{weight:"bold",children:f.bt("Gerenciar o Acesso para Empresas", "Manage Business Access", "[m10n]", undefined, true)})})})}):(0,S.jsx)(n.Fragment,{children:c&&(0,S.jsx)(i.zx,{fullWidth:!0,text:f.bt("Gerenciar o acesso", "Manage access", "[m10n]", undefined, true),color:"gray",role:"link",href:e})})},O=()=>{const e=s===re.OWNED;if(h.length>0||s!==e){const t=l?h.filter((e=>e.id.includes(P)||e.name.toLowerCase().includes(P.toLowerCase()))):h,n=t.every((e=>void 0!==e.owner_user));let a=t.filter((e=>null!==e.owner_user)).slice().reverse();n&&(a=(e=>{const t=[...e];return s===re.OWNED?t.sort(((e,s)=>{let t=0;return t=e.name!==s.name?e.name.localeCompare(s.name,void 0,{sensitivity:"case",caseFirst:"upper"}):e.id<s.id?1:-1,t})):(t.sort(((e,s)=>{let t=0;return t=e.owner_user&&s.owner_user&&e.owner_user.full_name!==s.owner_user.full_name?e.owner_user.full_name.localeCompare(s.owner_user.full_name,void 0,{sensitivity:"case",caseFirst:"upper"}):e.owner_user_id!==s.owner_user_id?e.owner_user_id<s.owner_user_id?1:-1:e.name!==s.name?e.name.localeCompare(s.name,void 0,{sensitivity:"case",caseFirst:"upper"}):e.id<s.id?1:-1,t})),l&&y&&t.sort((e=>e.owner_user_id===y.id?1:0))),t})(a));const r=n&&!e,c=new Set(null==y?void 0:y.managedAdAccounts.keys()),d=(null==y?void 0:y.managedAdAccounts.size)===a.length-1;let _=0;return a.map((e=>{const{id:s,name:t,owner_user:n,owner_user_id:a}=e;if(!s)return null;c.delete(s);const u=s===o,h=a===_,A=l&&r&&!d&&(null==y?void 0:y.id)===a&&!c.size;return _=a,(0,S.jsxs)(i.xu,{"data-test-id":`advertiserList-${s}`,children:[r&&!h&&(0,S.jsx)(i.xu,{marginStart:3,paddingY:2,display:"flex",children:(0,S.jsx)(i.xv,{weight:"bold",children:null==n?void 0:n.full_name})}),(0,S.jsx)(i.xu,{marginStart:r?3:0,children:m.has(s)||p?(0,S.jsx)(i.zd,{rounding:2,children:(0,S.jsxs)(i.xu,{marginStart:r?3:2,paddingY:2,display:"flex","data-test-id":"advertiser","data-test-selected":u,children:[(0,S.jsxs)(i.xu,{flex:"grow","data-test-id":`advertiser-${s}`,children:[(0,S.jsx)(i.xv,{color:u?"default":"subtle",weight:"bold",children:t}),(0,S.jsx)(i.xv,{size:"200",color:u?"default":"subtle",children:s}),(0,S.jsx)(i.xv,{size:"200",color:"error",children:f.bt("Autenticação de dois fatores necessária", "Two factor authentication required", "[m10n] Warns user that two factor authentication is required to view this", undefined, true)})]}),u&&(0,S.jsx)(i.xu,{marginEnd:4,alignItems:"center",display:"flex",children:(0,S.jsx)(i.JO,{icon:"check",accessibilityLabel:"Check",color:"default"})})]})}):(0,S.jsx)(i.iP,{fullWidth:!1,onTap:()=>N(e),children:(0,S.jsx)(i.zd,{rounding:2,children:(0,S.jsx)(i.st,{children:(0,S.jsxs)(i.xu,{marginStart:r?3:2,paddingY:2,display:"flex","data-test-id":"advertiser","data-test-selected":u,children:[(0,S.jsxs)(i.xu,{flex:"grow","data-test-id":`advertiser-${s}`,children:[(0,S.jsx)(i.xv,{color:u?"default":"subtle",weight:"bold",children:t}),(0,S.jsx)(i.xv,{size:"200",color:u?"default":"subtle",children:s})]}),u&&(0,S.jsx)(i.xu,{marginEnd:4,alignItems:"center",display:"flex",children:(0,S.jsx)(i.JO,{icon:"check",accessibilityLabel:"Check",color:"default"})})]})})})},s)}),A&&(0,S.jsxs)(i.xu,{display:"flex",alignItems:"center",paddingY:4,children:[(0,S.jsx)(i.kC,{direction:"column",flex:"grow",children:(0,S.jsx)(i.iz,{})}),(0,S.jsx)(i.xu,{marginStart:2,marginEnd:2,children:(0,S.jsx)(i.xv,{size:"100",color:"subtle",children:f.bt("Ver outros clientes", "See other clients", "[m10n] pinSupportTool.adAccounts.separator", undefined, true)})}),(0,S.jsx)(i.kC,{direction:"column",flex:"grow",children:(0,S.jsx)(i.iz,{})})]})]},`advertiserList-${s}`)}))}return e?(0,S.jsxs)(i.xu,{paddingY:4,children:[(0,S.jsx)(i.xv,{weight:"bold",children:f.bt("Crie contas de anúncios que sejam suas e você possa gerenciar", "Create ad accounts that you own and manage", "[m10n]", undefined, true)}),(0,S.jsx)(i.xu,{marginTop:2,children:(0,S.jsx)(i.xv,{size:"200",children:f.bt("Você pode adicionar até 10 contas ao seu perfil comercial.", "You can add up to 10 accounts to your business profile.", "[m10n]", undefined, true)})})]}):(0,S.jsx)(i.xu,{paddingY:4,children:(0,S.jsx)(i.xv,{color:"subtle",weight:"bold",children:f.bt("Você não foi adicionado a nenhuma conta de anúncios", "You have not been added to any ad accounts", "[m10n]", undefined, true)})})};return(0,S.jsxs)(n.Fragment,{children:[z&&I&&(0,S.jsx)(oe,{onDismiss:()=>{E(!1)},advertiser:I,isAnalyticsSite:A,isWwwSite:b}),(0,S.jsx)(i.xu,{marginBottom:2,children:(0,S.jsx)(i.sY,{selectedItemIndex:s,items:[f.bt("Suas contas de anúncio", "Your ad accounts", "[m10n]", undefined, true),f.bt("Compartilhados com você", "Shared with you", "[m10n]", undefined, true)],onChange:g,responsive:!0})}),l?(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(i.xu,{minWidth:le,paddingY:2,children:(0,S.jsx)(ae.Z,{accessibilityLabel:f.bt("Pesquise pelo nome ou ID da conta de anúncios da empresa", "Search by business, ad account name or ID", "[m10n]pinSupportTool.adAccounts.search", undefined, true),id:"bizAdAccountSearch",onChange:({value:e})=>{C(e)},placeholder:f.bt("Nome ou ID da conta de anúncios da empresa", "Business, ad account name or ID", "[m10n]pinSupportTool.adAccounts.search.placeholder", undefined, true),size:"lg",value:P,logContextEvent:x})}),(0,S.jsx)(i.Zf,{overflow:"scrollY",children:(0,S.jsx)(i.xu,{maxHeight:ce,children:O()})})]}):O(),(u||c)&&s===re.OWNED&&(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(i.xu,{marginStart:-2,marginEnd:-2,paddingY:2,children:(0,S.jsx)(i.iz,{})}),(0,S.jsxs)(i.xu,{marginBottom:0,children:[u&&s===re.OWNED&&(0,S.jsx)(i.xu,{marginBottom:2,"data-test-id":"create-ad-account-button",children:(0,S.jsx)(i.zx,{fullWidth:!0,text:f.bt("Criar nova conta de anúncios", "Create new ad account", "[m10n]", undefined, true),color:"red",onClick:B})}),L()]})]})]})}function _e({userId:e,activeAdvertiser:s,inactiveAdvertisers:t,isBaMfaEnabled:o,selectedAdvertiserId:a,showCreateButton:l,showViewAllButton:c,handleButtonClick:d,isAdsSite:_,isAnalyticsSite:u,isWwwSite:h,employersData:m,isPinSupportTool:p,viewer:A,isSterlingOnSteroids:b,mfaRolesEnforcedBySelf:g,lbaOwnerHasMfaEnabled:v}){const f=(0,r.ZP)(),[x,w]=(0,n.useState)(re.OWNED),[y,P]=(0,n.useState)(!1),[C,z]=(0,n.useState)({owned:[],accessible:[]}),[E,I]=(0,n.useState)(new Set),[j,B]=(0,n.useState)(!1);(0,K.Z)((()=>{o||((e,s)=>{const t=s.filter((s=>e===s.owner_user_id)),n=s.filter((s=>e!==s.owner_user_id)),i=n.filter((e=>e.id===a)).length>0?re.ACCESSIBLE:re.OWNED;z({owned:t,accessible:n}),w(i)})(e,[...t,s])})),(0,n.useEffect)((()=>{if(o){if(null==m||null==A||null==g||null==v)return;const n=A.has_mfa_enabled||v||b?[]:m.filter((e=>{var s;return null===(s=e.requires_mfa_for_roles)||void 0===s?void 0:s.some((s=>e.business_roles.includes(s)))})),i=!(A.has_mfa_enabled||v||b)&&0!==g.length,o=n.flatMap((e=>{var s;return null===(s=e.assets_summary)||void 0===s?void 0:s.ad_accounts.map((e=>e.id))})),r=A.has_mfa_enabled||v||b?new Set:new Set(o),l=(e,s,t,n)=>{const i=s.filter((s=>e===s.owner_user_id)),o=s.filter((s=>e!==s.owner_user_id)),r=o.filter((e=>e.id===a)).length>0?re.ACCESSIBLE:re.OWNED,l=!1===y?r:x;z({owned:i,accessible:o}),w(l),I(t),P(!0),B(n)};l(e,[...t,s],r,i)}}),[s,x,y,m,t,o,b,g,a,e,A,v]);const N=C.owned.length+C.accessible.length>0;return(0,S.jsx)(i.xu,{"data-test-id":"advertiser-switcher",children:N?(0,S.jsx)(de,{advertisers:C[["owned","accessible"][x]],selectedAdvertiserId:a,advertisersType:x,onAdvertiserTypeChange:({activeIndex:e})=>{w(e)},currentUserId:e,showCreateButton:l,showViewAllButton:c,handleButtonClick:d,isAdsSite:_,isAnalyticsSite:u,isWwwSite:h,mfaBlockedAdvertiserIds:E,isPinSupportTool:p,isMfaEnforcedBySelf:j}):(0,S.jsx)(i.$j,{show:!0,accessibilityLabel:f.bt("A lista de anunciantes está sendo carregada", "Advertiser list is loading", "[m10n]", undefined, true)})})}const ue=e=>(0,S.jsx)(_e,{...e,isBaMfaEnabled:!1}),he=e=>{const s=async()=>{var e,s;const t=(null===(e=(await(0,$.bq)({url:"/ads/v4/business_access/businesses/me/employers/",method:"GET",data:{assets_summary:!0}})).resource_response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)||[];return Array.from(t)},t=(0,_.useSelector)(q),i=(0,_.useDispatch)(),o=(0,W.Z)(),a=G(o),r=(0,M.Z)(o),{is_sterling_on_steroids:l}=(0,D.u)();return(0,n.useEffect)((()=>{i(((e,s,t=!1)=>async(s,n)=>{const{rawEmployers:i}=n().businessAccess;if(!i.list&&!i.isLoading||t){s({type:"GET_RAW_EMPLOYERS"});try{s({type:"GET_RAW_EMPLOYERS_SUCCESS",payload:{data:await e()}})}catch(o){s({type:"GET_RAW_EMPLOYERS_ERROR",error:o})}}})(s,e.userId))}),[e.userId]),(0,S.jsx)(_e,{...e,isBaMfaEnabled:!0,employersData:t,viewer:o,isSterlingOnSteroids:l,mfaRolesEnforcedBySelf:a,lbaOwnerHasMfaEnabled:r})};function me(e){const{checkExperiment:s}=(0,l.F)();return s("ba_mfa_enabled").anyEnabled?he(e):ue(e)}function pe({activeAdvertiser:e,inactiveAdvertisers:s,isAdsSite:t,isAnalyticsSite:_,isWwwSite:u,isPinSupportTool:h,showCreateButton:m,showViewAllButton:p,userId:A}){const b=(0,r.ZP)(),{checkExperiment:g}=(0,l.F)(),[v,f]=(0,n.useState)(!1),[x,w]=(0,n.useState)(!1),{anyEnabled:y}=g("web_m10n_pin_support_tool"),P=(0,n.useRef)(null),C=e.id?e.name:b.bt("Selecionar", "Select", "[m10n]pinSupportTool.header.adAccount.selectText", undefined, true),z=h?C:(0,c.Z)(b.bt("Visualizando: {{advertiserName}}", "Viewing: {{advertiserName}}", "advertiserSwitcherDropdown.menuButton.title", undefined, true),{advertiserName:e.name});return(0,S.jsxs)(i.xu,{"data-test-id":"advertiser-switcher-toggle",display:"inlineBlock",paddingX:o.Lz,ref:P,children:[(0,S.jsx)(i.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:b.bt("Mostrar lista suspensa de anunciantes", "Show advertiser dropdown", "advertiserSwitcherDropdown.menuButton.accessibilityLabel", undefined, true),color:h?"gray":"white",iconEnd:"arrow-down",onClick:()=>f(!v),selected:v,size:h?"sm":"lg",text:z}),v&&(0,S.jsx)(i.J2,{anchor:P.current,idealDirection:"down",onDismiss:()=>f(!1),size:"xl",children:(0,S.jsx)(i.xu,{column:12,overflow:y?"hidden":"visible",children:(0,S.jsx)(i.xu,{padding:2,children:(0,S.jsx)(me,{activeAdvertiser:e,handleButtonClick:e=>(e=>{if(t&&e===re.OWNED)w(!0);else if(t)(0,a.Z)("/accounts_manager/",!1);else{const e=d.au+"/accounts_manager/";(0,a.Z)(e,!0)}})(e),inactiveAdvertisers:null!=s&&s.length?s:e.inactive_advertisers||[],isAdsSite:t,isAnalyticsSite:_,isWwwSite:u,selectedAdvertiserId:e.id,showCreateButton:m,showViewAllButton:p,userId:A,isPinSupportTool:h})})})}),x&&(0,S.jsx)(Z,{onHide:()=>w(!1)})]})}},798231:(e,s,t)=>{t.d(s,{Z:()=>r});var n=t(883119),i=t(112690),o=t(185367),a=t(785893);function r(e){const{componentType:s,elementType:t,onClick:r,view:l,viewParameter:c,auxData:d={},accessibilityLabel:_,color:u,disabled:h,iconEnd:m,id:p,fullWidth:A,name:b,size:g,tabIndex:v,text:f,role:x,href:w,rel:y="none",target:P=null,type:C,accessibilityControls:z,accessibilityExpanded:S,accessibilityHaspopup:E,selected:I}=e,j=(0,i.Z)(),B=(0,o.K)(),N=()=>{["id","name"].forEach((s=>{e[s]&&(d["element_"+s]=e[s])})),j({event_type:101,view_type:l||(null==B?void 0:B.view),view_parameter:c||(null==B?void 0:B.viewParameter),component:s||null,element:t||10233,aux_data:{...d}}),null==r||r()};return"link"===x?(0,a.jsx)("span",{"data-test-id":p,"data-component":"button",children:(0,a.jsx)(n.zx,{accessibilityLabel:_,color:u,disabled:h,iconEnd:m,fullWidth:A,href:null!=w?w:"",name:b,onClick:N,rel:y,role:"link",size:g,tabIndex:v,target:P,text:f})}):"submit"===C?(0,a.jsx)("span",{"data-test-id":p,"data-component":"button",children:(0,a.jsx)(n.zx,{accessibilityLabel:_,color:u,disabled:h,iconEnd:m,fullWidth:A,name:b,onClick:N,role:"button",size:g,tabIndex:v,text:f,type:"submit"})}):(0,a.jsx)("span",{"data-test-id":p,"data-component":"button",children:(0,a.jsx)(n.zx,{accessibilityControls:z,accessibilityExpanded:S,accessibilityHaspopup:E,accessibilityLabel:_,color:u,disabled:h,iconEnd:m,fullWidth:A,name:b,onClick:N,role:"button",selected:I,size:g,tabIndex:v,text:f,type:"button"})})}},276205:(e,s,t)=>{t.d(s,{Z:()=>a});var n=t(883119),i=t(112690),o=t(785893);function a(e){const{componentType:s=null,elementType:t,onChange:a,view:r,viewParameter:l,id:c,checked:d,disabled:_,indeterminate:u,name:h,onClick:m,size:p,label:A,helperText:b,errorMessage:g}=e,v=(0,i.Z)(),f={"data-test-id":c,"data-component":"checkbox"};return(0,o.jsx)("span",{...f,children:(0,o.jsx)(n.XZ,{checked:d,disabled:_,errorMessage:g,id:c,indeterminate:u,name:h,onClick:m,size:p,onChange:e=>{let n={value:e.checked};c&&(n={...n,element_id:c}),h&&(n={...n,element_name:h}),v({event_type:7472,view_type:r,view_parameter:l,component:s||null,element:t||10214,aux_data:{...n}}),a(e)},label:A,helperText:b})})}},735204:(e,s,t)=>{t.d(s,{C:()=>_,Z:()=>d});var n=t(667294),i=t(23279),o=t.n(i),a=t(883119),r=t(112690),l=t(185367),c=t(785893);class d extends n.PureComponent{constructor(e){var s,t,n;super(e),n=e=>{const{component:s,elementType:t,id:n,onChange:i,reportingContext:o,view:a,viewParameter:r}=this.props,{value:l}=e;this.debouncedLogEvent({event_type:97,component:s,element:t||10435,view_type:a||(null==o?void 0:o.view),view_parameter:r||(null==o?void 0:o.viewParameter),aux_data:{element_id:n,value:l}}),i(e)},(t="handleChange")in(s=this)?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n;const{logContextEvent:i}=e;this.debouncedLogEvent=o()(i,3e3,{trailing:!0})}render(){const{size:e="lg"}=this.props;return(0,c.jsx)(a.Um,{accessibilityLabel:this.props.accessibilityLabel,autoComplete:this.props.autoComplete,errorMessage:this.props.errorMessage,id:this.props.id,onBlur:this.props.onBlur,onChange:this.handleChange,onFocus:this.props.onFocus,placeholder:this.props.placeholder,size:e,value:this.props.value})}}function _(e){const s=(0,l.K)(),t=(0,r.Z)();return(0,c.jsx)(d,{...e,reportingContext:s,logContextEvent:t})}},239838:(e,s,t)=>{t.d(s,{$7:()=>p,Ay:()=>a,B1:()=>b,CD:()=>l,Dk:()=>_,Fc:()=>I,Kp:()=>j,NG:()=>w,QM:()=>S,T0:()=>d,TE:()=>m,WF:()=>f,Wm:()=>g,Xm:()=>y,_N:()=>z,d7:()=>o,e_:()=>C,i_:()=>x,kY:()=>h,nV:()=>n,pC:()=>r,ph:()=>u,qg:()=>P,tZ:()=>i,uC:()=>c,uc:()=>v,xl:()=>A,yG:()=>E});const n="https://business.pinterest.com/en/pinterest-advertising-services-agreement",i="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",o="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",a="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",r="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",l="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",c="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",d="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",_="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",u=[1,3],h=[7],m=[34],p=[35],A=[19],b=[36],g=[37],v=[38],f=8,x=9,w=11,y=15,P=16,C=17,z=18,S=19,E=20;function I(e){let s=x;return u.includes(e)?s=f:h.includes(e)?s=w:m.includes(e)?s=y:p.includes(e)?s=P:A.includes(e)?s=C:b.includes(e)?s=z:v.includes(e)?s=S:g.includes(e)&&(s=E),s}function j(e){let s=_;return u.includes(e)?s=n:h.includes(e)?s=i:m.includes(e)?s=o:p.includes(e)?s=a:A.includes(e)?s=d:b.includes(e)?s=r:g.includes(e)?s=l:v.includes(e)&&(s=c),s}},596505:(e,s,t)=>{t.d(s,{Z:()=>u});var n=t(667294),i=t(294184),o=t.n(i),a=t(883119),r=t(898781),l=t(785893);function c(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const d=()=>{};class _ extends n.Component{constructor(e){super(e),c(this,"setValue",(e=>{const s={selected:e};this.fireChangeEvent(s),this.setState(s),this.handleClose()})),c(this,"handleMouseDown",(e=>{"mousedown"===e.type&&0!==e.button||(this.isOpen?this.handleClose():this.handleOpen())})),c(this,"handleOpen",(()=>{this._shouldManageOwnState?this.setState({isOpen:!0}):this.props.onOpen()})),c(this,"handleClose",(()=>{this._shouldManageOwnState?this.setState({isOpen:!1}):this.props.onClose()})),this._shouldManageOwnState=e.onOpen===d&&e.onClose===d,this.state={selected:e.value,isOpen:!1},this.mounted=!0}static getDerivedStateFromProps(e,s){return e.value&&e.value!==s.selected?{selected:e.value}:null}componentDidUpdate(){this.mounted&&this.isOpen&&this.scrollItemIntoView(this.selectedOption)}get isOpen(){return this._shouldManageOwnState?Boolean(this.state.isOpen):Boolean(this.props.isOpen)}scrollItemIntoView(e){const{menu:s}=this,t=e;s&&t&&(t.offsetTop>s.scrollTop+s.offsetHeight||t.offsetTop<s.scrollTop)&&(s.scrollTop=t.offsetTop-s.offsetTop)}fireChangeEvent(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}renderOption(e){const s=e===this.state.selected,t=o()({ReactDropdown__option:!0,"ReactDropdown__option--selected":s});return(0,l.jsx)("div",{className:t,onClick:()=>this.setValue(e),onMouseDown:()=>this.setValue(e),ref:s?e=>{this.selectedOption=e}:null,role:"button",tabIndex:"0",children:e.label},e.value)}renderMenu(e=[]){const s=e.map((e=>{if("group"===e.type){var s;const t=(0,l.jsx)("div",{className:"title",children:e.name});return(0,l.jsxs)("div",{className:"group",children:[t,null===(s=e.items)||void 0===s?void 0:s.map((e=>this.renderOption(e)))]},e.name)}return this.renderOption(e)}));return s.length?s:(0,l.jsx)("div",{className:"ReactDropdown--noresults",children:this.props.i18n.bt("Nenhuma opção encontrada", "No options found", " - ", undefined, true)})}render(){const{isOpen:e}=this,s=o()({ReactDropdown:!0,"ReactDropdown--open":e}),t=o()({ReactDropdown__control:!0,"ReactDropdown__control--advertiserDropdown":this.props.isAdvertiserDropdown});let n=null;return e&&(n=(0,l.jsx)("div",{className:"ReactDropdown__menu",ref:e=>{this.menu=e},children:this.renderMenu(this.props.options)})),(0,l.jsxs)("div",{className:s,children:[(0,l.jsx)("div",{className:t,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown,children:(0,l.jsxs)("div",{className:"ReactDropdown__placeholder",children:[this.state.selected.label,(0,l.jsx)("span",{className:"caret",children:(0,l.jsx)(a.JO,{accessibilityLabel:this.props.i18n.bt("ver opções", "see options", "accessible label for dropdown arrow", undefined, true),color:"default",icon:"arrow-down",size:18})})]})}),n]})}}c(_,"defaultProps",{isAdvertiserDropdown:!1,isOpen:!1,onChange:d,onClose:d,onOpen:d,options:[],value:{label:"Select...",value:""}});const u=function(e){const s=(0,r.ZP)();return(0,l.jsx)(_,{...e,i18n:s})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/41473.pt_BR-6992d3cd2d6bbbeb.mjs.map